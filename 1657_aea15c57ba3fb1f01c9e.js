/*! For license information please see 1657_aea15c57ba3fb1f01c9e.js.LICENSE.txt */
"use strict";(self.webpackChunkcode_cook=self.webpackChunkcode_cook||[]).push([[1657],{95166:(t,e,r)=>{r.d(e,{a:()=>s,b:()=>n,c:()=>l,g:()=>i});var a=r(50008),o=r.n(a),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var l=s((function(t){!function(){var e={}.hasOwnProperty;function r(){for(var t=[],a=0;a<arguments.length;a++){var n=arguments[a];if(n){var i=o()(n);if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&t.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var l in n)e.call(n,l)&&n[l]&&t.push(l);else t.push(n.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r}()}))},61657:(t,e,r)=>{r.r(e),r.d(e,{taro_tabbar:()=>f});var a=r(65943),o=r(289),n=r.n(o),i=r(95166),s=function(t,e){for(var r=0,a=e.length,o=t.length;r<a;r++,o++)t[o]=e[r];return t},l=function(t){var e,r=t||"",a={path:null,query:null,fragment:null};return(e=r.indexOf("#"))>-1&&(a.fragment=r.substring(e+1),r=r.substring(0,e)),(e=r.indexOf("?"))>-1&&(a.query=r.substring(e+1),r=r.substring(0,e)),a.path=r,a};function b(t){return"/"===t.charAt(0)}function d(t,e){for(var r=e,a=r+1,o=t.length;a<o;r+=1,a+=1)t[r]=t[a];t.pop()}var h=function(t){var e=t.index,r=t.isSelected,o=void 0!==r&&r,n=t.textColor,s=t.iconPath,l=t.badgeText,b=t.showRedDot,d=void 0!==b&&b,h=t.text,c=t.onSelect,u=(0,i.c)("weui-tabbar__item",{"weui-bar__item_on":o});return(0,a.h)("a",{key:e,href:"javascript:;",class:u,onClick:function(){c(e)}},(0,a.h)("span",{style:{display:"inline-block",position:"relative"}},(0,a.h)("img",{src:s,alt:"",class:"weui-tabbar__icon"}),!!l&&(0,a.h)("span",{class:"weui-badge taro-tabbar-badge",style:{position:"absolute",top:"-2px",right:"-13px"}},l),d&&(0,a.h)("span",{class:"weui-badge weui-badge_dot",style:{position:"absolute",top:"0",right:"-6px"}})),(0,a.h)("p",{class:"weui-tabbar__label",style:{color:n}},h))},c=function(t){return"/"===t[0]?t:"/"+t},u=function(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t},f=function(){function t(t){var e=this;(0,a.r)(this,t),this.onLongPress=(0,a.c)(this,"longpress",7),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=0,this.getOriginUrl=function(t){var r=e.customRoutes.filter((function(e){var r=e[1];return l(r).path===l(t).path}));return r.length?r[0][0]:t},this.getSelectedIndex=function(t){var r=-1;return e.list.forEach((function(e,a){var o=e.pagePath;l(t).path===l(o).path&&(r=a)})),r},this.switchTab=function(t){e.selectedIndex=t,n().switchTab({url:e.list[t].pagePath})},this.switchTabHandler=function(t){var r=t.url,a=t.successHandler,o=t.errorHandler,n=function(t,e){void 0===e&&(e="");var r,a=t&&t.split("/")||[],o=e&&e.split("/")||[],n=t&&b(t),i=e&&b(e),s=n||i;if(t&&b(t)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";if(o.length){var l=o[o.length-1];r="."===l||".."===l||""===l}else r=!1;for(var h=0,c=o.length;c>=0;c--){var u=o[c];"."===u?d(o,c):".."===u?(d(o,c),h++):h&&(d(o,c),h--)}if(!s)for(;h--;h)o.unshift("..");!s||""===o[0]||o[0]&&b(o[0])||o.unshift("");var f=o.join("/");return r&&"/"!==f.substr(-1)&&(f+="/"),f}(r,e.getOriginUrl(e.getCurrentUrl()||e.homePage)),i=e.getSelectedIndex(n);i>-1?(e.switchTab(i),a({errMsg:"switchTab:ok"})):o({errMsg:'switchTab:fail page "'+n+'" is not found'})},this.routerChangeHandler=function(t){var r,a;if(t&&(r=t.toLocation),r&&r.path){var o=c(r.path);a=u("/"===o?e.homePage:o,e.conf.basename||"/")}else a=e.getCurrentUrl();e.selectedIndex=e.getSelectedIndex(e.getOriginUrl(a))},this.setTabBarBadgeHandler=function(t){var r=t.index,a=t.text,o=t.successHandler,n=t.errorHandler,i=s([],e.list);r in i?(i[r].showRedDot=!1,i[r].badgeText=a,o({errMsg:"setTabBarBadge:ok"})):n({errMsg:"setTabBarBadge:fail tabbar item not found"}),e.list=i},this.removeTabBarBadgeHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].badgeText=null,n[r].badgeText=null,a({errMsg:"removeTabBarBadge:ok"})):o({errMsg:"removeTabBarBadge:fail tabbar item not found"}),e.list=n},this.showTabBarRedDotHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].badgeText=null,n[r].showRedDot=!0,a({errMsg:"showTabBarRedDot:ok"})):o({errMsg:"showTabBarRedDot:fail tabbar item not found"}),e.list=n},this.hideTabBarRedDotHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].showRedDot=!1,a({errMsg:"hideTabBarRedDot:ok"})):o({errMsg:"hideTabBarRedDot:fail tabbar item not found"}),e.list=n},this.showTabBarHandler=function(t){var r=t.successHandler;e.status=0,r({errMsg:"showTabBar:ok"})},this.hideTabBarHandler=function(t){var r=t.animation,a=t.successHandler;e.status=r?2:1,a({errMsg:"hideTabBar:ok"})},this.setTabBarStyleHandler=function(t){var r=t.color,a=t.selectedColor,o=t.backgroundColor,n=t.borderStyle,i=t.successHandler;o&&(e.backgroundColor=o),n&&(e.borderStyle=n),r&&(e.color=r),a&&(e.selectedColor=a),i({errMsg:"setTabBarStyle:ok"})},this.setTabBarItemHandler=function(t){var r=t.index,a=t.iconPath,o=t.selectedIconPath,n=t.text,i=t.successHandler,l=t.errorHandler,b=s([],e.list);r in b?(a&&(b[r].iconPath=a),o&&(b[r].selectedIconPath=o),n&&(b[r].text=n),i({errMsg:"setTabBarItem:ok"})):l({errMsg:"setTabBarItem:fail tabbar item not found"}),e.list=b};var r=this.conf.list,o=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(r)||r.length<2||r.length>5)throw new Error("tabBar 配置错误");this.homePage=c(this.conf.homePage);var i=function(t){var e,r=o[t];t=c(t),"string"==typeof r?h.customRoutes.push([t,c(r)]):(null==r?void 0:r.length)>0&&(e=h.customRoutes).push.apply(e,r.map((function(e){return[t,c(e)]})))},h=this;for(var f in o)i(f);r.forEach((function(t){0!==t.pagePath.indexOf("/")&&(t.pagePath="/"+t.pagePath)})),this.list=r,this.borderStyle=this.conf.borderStyle,this.backgroundColor=this.conf.backgroundColor,this.color=this.conf.color,this.selectedColor=this.conf.selectedColor}return t.prototype.getCurrentUrl=function(){var t,e=this.conf.mode,r=this.conf.basename||"/";if("hash"===e){var a=window.location.href,o=a.indexOf("#");t=-1===o?"":a.substring(o+1)}else t=location.pathname;var n=c(u(t,r));return"/"===n?this.homePage:n},t.prototype.bindEvent=function(){n().eventCenter.on("__taroRouterChange",this.routerChangeHandler),n().eventCenter.on("__taroSwitchTab",this.switchTabHandler),n().eventCenter.on("__taroSetTabBarBadge",this.setTabBarBadgeHandler),n().eventCenter.on("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),n().eventCenter.on("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),n().eventCenter.on("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),n().eventCenter.on("__taroShowTabBar",this.showTabBarHandler),n().eventCenter.on("__taroHideTabBar",this.hideTabBarHandler),n().eventCenter.on("__taroSetTabBarStyle",this.setTabBarStyleHandler),n().eventCenter.on("__taroSetTabBarItem",this.setTabBarItemHandler)},t.prototype.removeEvent=function(){n().eventCenter.off("__taroRouterChange",this.routerChangeHandler),n().eventCenter.off("__taroSwitchTab",this.switchTabHandler),n().eventCenter.off("__taroSetTabBarBadge",this.setTabBarBadgeHandler),n().eventCenter.off("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),n().eventCenter.off("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),n().eventCenter.off("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),n().eventCenter.off("__taroShowTabBar",this.showTabBarHandler),n().eventCenter.off("__taroHideTabBar",this.hideTabBarHandler),n().eventCenter.off("__taroSetTabBarStyle",this.setTabBarStyleHandler),n().eventCenter.off("__taroSetTabBarItem",this.setTabBarItemHandler)},t.prototype.componentDidLoad=function(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()},t.prototype.disconnectedCallback=function(){this.removeEvent()},t.prototype.render=function(){var t,e,r=this,o=this.tabbarPos,n=void 0===o?"bottom":o,s=this.status,l=(0,i.c)("weui-tabbar",((t={})["taro-tabbar__border-"+(this.borderStyle||"black")]=!0,t)),b=-1===this.selectedIndex||1===s,d=2===s;return(0,a.h)(a.H,{class:(0,i.c)("taro-tabbar__tabbar","taro-tabbar__tabbar-"+n,(e={},e["taro-tabbar__tabbar-hide"]=b,e["taro-tabbar__tabbar-slideout"]=d,e))},(0,a.h)("div",{class:l,style:{backgroundColor:this.backgroundColor||"",height:"inherit"}},this.list.map((function(t,e){var o,n,i=r.selectedIndex===e;return i?(o=r.selectedColor||"",n=t.selectedIconPath):(o=r.color||"",n=t.iconPath),(0,a.h)(h,{index:e,onSelect:r.switchTab.bind(r),isSelected:i,textColor:o,iconPath:n,text:t.text,badgeText:t.badgeText,showRedDot:t.showRedDot})}))))},Object.defineProperty(t.prototype,"tabbar",{get:function(){return(0,a.g)(this)},enumerable:!1,configurable:!0}),t}();f.style="html,body{height:100%}#app{height:100%}.taro-tabbar__border-white::before{border-top-color:#fff !important}.taro-tabbar__container{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-direction:column;flex-direction:column;height:100%}.taro-tabbar__panel{overflow:auto;position:relative;-ms-flex:1;flex:1;-webkit-overflow-scrolling:auto}.taro-tabbar__tabbar{position:relative;width:100%;height:50px;-webkit-transition:bottom 0.2s, top 0.2s;transition:bottom 0.2s, top 0.2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0;margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;-ms-flex:0 0;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}"}}]);